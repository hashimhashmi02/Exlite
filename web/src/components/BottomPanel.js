import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useState } from 'react';
export default function BottomPanel({ openOrders, closedOrders = [], equity, balance, freeMargin, margin, marginLevel, onCloseOrder }) {
    const [activeTab, setActiveTab] = useState('open');
    const [collapsed, setCollapsed] = useState(false);
    return (_jsxs("div", { className: `bg-[#0d0f13] border-t border-[#2a2e39] transition-all flex flex-col flex-shrink-0 ${collapsed ? 'h-10' : 'h-64'}`, children: [_jsxs("div", { className: "flex items-center justify-between border-b border-[#2a2e39] h-10 flex-shrink-0", children: [_jsx("div", { className: "flex items-center", children: ['open', 'pending', 'closed'].map((tab) => (_jsx("button", { onClick: () => setActiveTab(tab), className: `px-4 py-2 text-xs font-medium capitalize transition-colors ${activeTab === tab
                                ? 'text-white border-b-2 border-yellow-500'
                                : 'text-gray-500 hover:text-gray-300'}`, children: tab }, tab))) }), _jsx("div", { className: "flex items-center gap-2 px-3", children: _jsx("button", { onClick: () => setCollapsed(!collapsed), className: "p-1 text-gray-500 hover:text-white", children: _jsx("svg", { className: `w-4 h-4 transition-transform ${collapsed ? 'rotate-180' : ''}`, fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 1.5, d: "M19 9l-7 7-7-7" }) }) }) })] }), !collapsed && (_jsxs(_Fragment, { children: [_jsxs("div", { className: "flex-1 overflow-y-auto px-4 py-2 min-h-0", children: [activeTab === 'open' && openOrders.length === 0 && (_jsxs("div", { className: "flex flex-col items-center justify-center py-6 text-gray-500", children: [_jsx("svg", { className: "w-10 h-10 mb-2 opacity-50", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 1, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" }) }), _jsx("span", { className: "text-sm", children: "No open positions" })] })), activeTab === 'open' && openOrders.length > 0 && (_jsxs("table", { className: "w-full text-xs", children: [_jsx("thead", { children: _jsxs("tr", { className: "text-gray-500 text-left", children: [_jsx("th", { className: "py-1 font-medium", children: "Symbol" }), _jsx("th", { className: "py-1 font-medium", children: "Side" }), _jsx("th", { className: "py-1 font-medium text-right", children: "Margin" }), _jsx("th", { className: "py-1 font-medium text-right", children: "Leverage" }), _jsx("th", { className: "py-1 font-medium text-right", children: "Entry" }), _jsx("th", { className: "py-1 font-medium text-right", children: "P/L" }), _jsx("th", { className: "py-1" })] }) }), _jsx("tbody", { children: openOrders.map((order) => (_jsxs("tr", { className: "text-white hover:bg-[#1a1d24]", children: [_jsx("td", { className: "py-1.5 font-medium", children: order.symbol }), _jsx("td", { className: `py-1.5 ${order.side === 'long' ? 'text-green-400' : 'text-red-400'}`, children: order.side.toUpperCase() }), _jsxs("td", { className: "py-1.5 text-right font-mono", children: ["$", (order.margin / 100).toFixed(2)] }), _jsxs("td", { className: "py-1.5 text-right", children: [order.leverage, "x"] }), _jsx("td", { className: "py-1.5 text-right font-mono", children: order.entryPrice.toLocaleString() }), _jsxs("td", { className: `py-1.5 text-right font-mono ${(order.pnl ?? 0) >= 0 ? 'text-green-400' : 'text-red-400'}`, children: [(order.pnl ?? 0) >= 0 ? '+' : '', ((order.pnl ?? 0) / 100).toFixed(2)] }), _jsx("td", { className: "py-1.5 text-right", children: _jsx("button", { onClick: () => onCloseOrder?.(order.id), className: "text-gray-500 hover:text-red-400", children: "\u00D7" }) })] }, order.id))) })] })), activeTab === 'closed' && closedOrders.length === 0 && (_jsxs("div", { className: "flex flex-col items-center justify-center py-6 text-gray-500", children: [_jsx("svg", { className: "w-10 h-10 mb-2 opacity-50", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: _jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 1, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" }) }), _jsx("span", { className: "text-sm", children: "No closed positions" })] })), activeTab === 'closed' && closedOrders.length > 0 && (_jsxs("table", { className: "w-full text-xs", children: [_jsx("thead", { children: _jsxs("tr", { className: "text-gray-500 text-left", children: [_jsx("th", { className: "py-1 font-medium", children: "Symbol" }), _jsx("th", { className: "py-1 font-medium", children: "Side" }), _jsx("th", { className: "py-1 font-medium text-right", children: "Margin" }), _jsx("th", { className: "py-1 font-medium text-right", children: "Leverage" }), _jsx("th", { className: "py-1 font-medium text-right", children: "Entry" }), _jsx("th", { className: "py-1 font-medium text-right", children: "Exit" }), _jsx("th", { className: "py-1 font-medium text-right", children: "P/L" })] }) }), _jsx("tbody", { children: closedOrders.map((order) => (_jsxs("tr", { className: "text-white hover:bg-[#1a1d24]", children: [_jsx("td", { className: "py-1.5 font-medium", children: order.symbol }), _jsx("td", { className: `py-1.5 ${order.side === 'long' ? 'text-green-400' : 'text-red-400'}`, children: order.side.toUpperCase() }), _jsxs("td", { className: "py-1.5 text-right font-mono", children: ["$", (order.margin / 100).toFixed(2)] }), _jsxs("td", { className: "py-1.5 text-right", children: [order.leverage, "x"] }), _jsx("td", { className: "py-1.5 text-right font-mono", children: order.entryPrice.toLocaleString() }), _jsx("td", { className: "py-1.5 text-right font-mono", children: order.exitPrice.toLocaleString() }), _jsxs("td", { className: `py-1.5 text-right font-mono ${order.pnl >= 0 ? 'text-green-400' : 'text-red-400'}`, children: [order.pnl >= 0 ? '+' : '', (order.pnl / 100).toFixed(2)] })] }, order.id))) })] }))] }), _jsxs("div", { className: "flex items-center gap-6 px-4 py-2 border-t border-[#2a2e39] text-xs", children: [_jsxs("div", { children: [_jsx("span", { className: "text-gray-500", children: "Equity: " }), _jsxs("span", { className: "text-white font-mono", children: [(equity / 100).toFixed(2), " USD"] })] }), _jsxs("div", { children: [_jsx("span", { className: "text-gray-500", children: "Free Margin: " }), _jsxs("span", { className: "text-white font-mono", children: [(freeMargin / 100).toFixed(2), " USD"] })] }), _jsxs("div", { children: [_jsx("span", { className: "text-gray-500", children: "Balance: " }), _jsxs("span", { className: "text-white font-mono", children: [(balance / 100).toFixed(2), " USD"] })] }), _jsxs("div", { children: [_jsx("span", { className: "text-gray-500", children: "Margin: " }), _jsxs("span", { className: "text-white font-mono", children: [(margin / 100).toFixed(2), " USD"] })] }), marginLevel !== undefined && (_jsxs("div", { children: [_jsx("span", { className: "text-gray-500", children: "Margin level: " }), _jsxs("span", { className: "text-white font-mono", children: [marginLevel.toFixed(2), "%"] })] }))] })] }))] }));
}
